INSTALAÇÃO
==========

PRÉ-REQUISITOS
--------------
=> Squid2 >= v2.7 (ainda não disponível para Squid3)
Para melhores resultados, o Squid deve estar compilado com a diretiva --enable-http-violations.

Algumas versões podem apresentar problemas. Leia o leiame.txt antes de instalar.

O Plugin de videos NetFlix necessita do patch de ignore-no-store presente no Lusca Cache.

INSTALAÇÃO
----------

1. Compilar o inComum
# make all

Para ativar o uso das bibliotecas BOOST
# make all ENABLE_BOOST=y

Para compilar em modo Debug (mostra as traduções de URL em /tmp/inComum-*.log)
# make all DEBUG=y


2. colocar o arquivo inComum em /usr/lib/squid e o inComum.conf em /etc/squid/

# cp ./inComum /usr/lib/squid/
# cp ./inComum.conf /etc/squid/

3. torná-lo executável

# chmod +x /usr/lib/squid/inComum

4. mudar o dono para o mesmo do squid (geralmente proxy.proxy):

# chown proxy.proxy /usr/lib/squid/inComum
# chown proxy.proxy /etc/squid/inComum.conf

5. configurar inComum.conf

Mude, se quiser, as seguinte opções:
-storeurl_rewrite_children (número de instâncias)
-maximum_object_size (tamanho máximo dos objetos do cache)

6. configure o programa no squid.conf

Para configurar, adicione a seguinte linha no squid.conf:

include /etc/squid/inComum.conf

IMPORTANTE: a linha DEVE ser inserida ANTES de qualquer outra configuração.
(Ou quase: deve ficar ao menos antes da acl QUERY e das outras refresh_patterns).
